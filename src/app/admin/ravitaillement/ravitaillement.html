<div class="content">

@if(page=='liste'){

    <div class="panel-header bg-primary-gradient">
        <div class="page-inner py-5">
            <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
                <div style="padding: 30px;">
                    <h2 class="text-white op-7 mb-2">Ravitaillement</h2>
                </div>
                <div class="ml-md-auto py-2 py-md-0">
                    <a (click)="pageAjout()" class="btn btn-white btn-border btn-round mr-2">Ajouter</a>
                </div>
            </div>
        </div>
    </div>
    <div class="page-inner mt--5">
        <div class="row row-card-no-pd mt--2">
            <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                    <div class="card-body ">
                        <div class="row">
                            <div class="col-5">
                                <div class="icon-big text-center">
                                    <i class="flaticon-chart-pie text-warning"></i>
                                </div>
                            </div>
                            <div class="col-7 col-stats">
                                <div class="numbers">
                                    <p class="card-category">Number</p>
                                    <h4 class="card-title">150GB</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                    <div class="card-body ">
                        <div class="row">
                            <div class="col-5">
                                <div class="icon-big text-center">
                                    <i class="flaticon-coins text-success"></i>
                                </div>
                            </div>
                            <div class="col-7 col-stats">
                                <div class="numbers">
                                    <p class="card-category">Revenue</p>
                                    <h4 class="card-title">$ 1,345</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-5">
                                <div class="icon-big text-center">
                                    <i class="flaticon-error text-danger"></i>
                                </div>
                            </div>
                            <div class="col-7 col-stats">
                                <div class="numbers">
                                    <p class="card-category">Errors</p>
                                    <h4 class="card-title">23</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card card-stats card-round">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-5">
                                <div class="icon-big text-center">
                                    <i class="flaticon-twitter text-primary"></i>
                                </div>
                            </div>
                            <div class="col-7 col-stats">
                                <div class="numbers">
                                    <p class="card-category">Followers</p>
                                    <h4 class="card-title">+45K</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title">Liste</h4>

                        <div style="position: absolute; right: 30px; top: 15px;" class="row">
                            <div class="col-md-6">
                                <div class="form-group form-group-default ">
                                    <label for="name">Date deÃÅbut</label>
                                    <input type="date" class="" id="name" [(ngModel)]="dateStart" name="dateDebut" (ngModelChange)="getAllRavitaillement()" />
                                </div>
                                

                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-group-default">
                                    <label for="name">Date fin</label>
                                    <input type="date" class="" id="name" [(ngModel)]="dateEnd" name="dateFin" (ngModelChange)="getAllRavitaillement()" />
                                </div>
                            </div>
                            

                        </div>

                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table id="basic-datatables" class="display table table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>#</th>
                                        <th>Libelle</th>
                                        <th>Quantite</th>
                                        <th>Prix</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <th>Date</th>
                                        <th>#</th>
                                        <th>libelle</th>
                                        <th>Quantite</th>
                                        <th>Prix</th>
                                        <th>Action</th>
                                    </tr>
                                </tfoot>
                                <tbody>
                                    @for (ravitaillement of tableauRavitaillement; track $index) {
                                    <tr style="cursor: pointer;">
                                        <td style="font-size: 1.5em;">{{ ravitaillement.date | date:'dd/MM/yyyy HH:mm' }}</td>
                                        <td ><img [src]="ravitaillement.article.imageUrl" alt="image" style="width: 50px; height: 50px; border-radius: 25px; border: 1px solid;"></td>
                                        <td style="font-size: 1.5em;">{{ ravitaillement.article.libelle }}</td>
                                        <td style="font-size: 1.5em;">{{ ravitaillement.quantite}}</td>
                                        <td style="font-size: 1.5em;">{{ ravitaillement.prix}} FCFA</td>
                                        <td>


                                            <i (click)="pageModif(ravitaillement)" class="fa fa-edit"
                                                style="font-size: 1.7em; color: orange; margin-right: 15px;"></i>

                                            <i (click)="comfirmSup(ravitaillement)" class="fa fa-times"
                                                style="font-size: 2em; color: red; margin-right: 20px; margin-right: 105px;"></i>


                                        </td>
                                        
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                    
        </div>

}

@else if (page=='ajout') {
        <div class="panel-header bg-primary-gradient">
        <div class="page-inner py-5">
            <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
                <div style="padding-top: 30px;">
                    <h2 class="text-white op-7 mb-2">Ravitaillement</h2>
                </div>
                <div class="ml-md-auto py-2 py-md-0" style="margin-top: 30px;">
                    <a (click)="pageListe()" class="btn btn-white btn-border btn-round mr-2">Liste</a>
                </div>
            </div>
        </div>
    </div>

<form #form="ngForm" novalidate>

    <div class="page-inner">
        <div class="row" >
    <div class="col-md-6 offset-md-3">
      <div class="card">
        <div class="card-header">
          <div class="card-title" style="margin-top: 50px; color: blue;">Informations de l'article</div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="form-group col-lg-12">
              <label for="name">Categorie</label>
                <select class="form-control" [(ngModel)]="currentCategorie" name="categorie" required (ngModelChange)="getAllArticles()">
                    <option *ngFor="let cat of tableauCategorie" [ngValue]="cat">{{ cat.libelle }}  </option>
                </select>
            </div>
            <div class="form-group col-lg-6">
              <label for="name">Article</label>
                <select class="form-control" [(ngModel)]="currentArticle" name="article" required>
                    <ng-container *ngFor="let art of tableauArticle">
                        <option *ngIf="art.categorie.id == currentCategorie.id" [(ngModel)]="ravitaillementAjout.article" >{{ art.libelle }}</option>
                    </ng-container>
                </select>
          </div>
            <div class="form-group col-lg-6">
              <label for="name">Quantite</label>
              <input type="number" class="form-control large-input" id="name"
                [(ngModel)]="ravitaillementAjout.quantite" name="quantite" />
            </div>
            <div class="form-group col-lg-12">
              <label for="name">Prix Total</label>
              <input type="number" class="form-control large-input" id="name"
                [value]="ravitaillementAjout.quantite * ravitaillementAjout.article.prix" name="prixTotal" readonly />
            </div>
        </div>
        <div class="card-action" style="text-align: center;">
          <button class="btn btn-success" type="submit" style="margin-right: 30px; font-size: 1.1em;"
            (click)="addRavitaillement()">Enregistrer</button>
          <button class="btn btn-danger" (click)="pageListe()" style="margin-left: 30px; font: 1.1em;">Annuler</button>
        </div>
      </div>
    </div>
  </div>
    </div>

  

</div>
</form>
}
    
</div>